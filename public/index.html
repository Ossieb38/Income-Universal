<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IncomeOS - Free Global Earnings</title>
  <meta name="description" content="Earn globally. Cash out anywhere. Zero cost to start.">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#004aad">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192.png">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="app">
    <header class="header">
      <h1>ğŸŒ IncomeOS</h1>
      <div class="wallet-status" id="walletStatus">
        <button class="btn-connect" onclick="web3Manager.connectWallet()">Connect Wallet</button>
      </div>
    </header>
    
    <section class="dashboard">
      <div class="card">
        <h2>Today's Earnings</h2>
        <p class="amount" id="todayEarnings">$0.00</p>
      </div>
      <div class="card">
        <h2>This Week</h2>
        <p class="amount" id="weekEarnings">$0.00</p>
      </div>
      <div class="card">
        <h2>Total Balance</h2>
        <p class="amount" id="totalBalance">$0.00</p>
      </div>
    </section>
    
    <section class="tasks">
      <h2>âš¡ Active Tasks</h2>
      <div id="taskList">
        <p class="empty">Connect wallet and start earning!</p>
      </div>
      <button class="btn-primary" id="startTasks" onclick="startAutoTasks()">Start Auto Tasks</button>
    </section>
    
    <section class="platforms">
      <h2>ğŸ”— Connected Platforms</h2>
      <button class="btn-secondary" onclick="document.getElementById('settingsModal').style.display='block'">âš™ï¸ Platform Settings</button>
      <div class="platform-grid">
        <!-- ... existing platform cards ... -->
      </div>
    </section>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="document.getElementById('settingsModal').style.display='none'">&times;</span>
        <h2>Platform API Keys</h2>
        <div id="apiSettingsForm">
          <div class="setting-item">
            <label>Honeygain API Key:</label>
            <input type="password" id="key_honeygain" placeholder="Enter Honeygain Key">
          </div>
          <div class="setting-item">
            <label>Sahara AI API Key:</label>
            <input type="password" id="key_sahara" placeholder="Enter Sahara Key">
          </div>
          <div class="setting-item">
            <label>Synesis API Key:</label>
            <input type="password" id="key_synesis" placeholder="Enter Synesis Key">
          </div>
          <div class="setting-item">
            <label>Pawns.app API Key:</label>
            <input type="password" id="key_pawnos" placeholder="Enter Pawns.app Key">
          </div>
          <div class="setting-item">
            <label>Grass API Key:</label>
            <input type="password" id="key_grass" placeholder="Enter Grass Key">
          </div>
          <button class="btn-primary" onclick="app.saveAPIKeys()">Save Keys</button>
        </div>
      </div>
    </div>

    <section class="ai-chat">
      <h2>ğŸ’¬ AI Assistant</h2>
      <div id="chatWindow" class="chat-window">
        <div id="chatMessages" class="chat-messages"></div>
        <div class="chat-input-area">
          <input type="text" id="chatInput" placeholder="Ask about your earnings...">
          <button id="sendBtn" class="btn-primary">Send</button>
          <button id="voiceBtn" class="btn-secondary">ğŸ¤</button>
        </div>
      </div>
    </section>
    
    <section class="payout">
      <button class="btn-secondary" id="payoutBtn" onclick="initiatePayout()">Cash Out</button>
      <select id="payoutMethod">
        <option value="auto">ğŸ¯ Auto-select best method</option>
        <option value="crypto">â‚¿ Cryptocurrency</option>
        <option value="fiat">ğŸ¦ Bank Transfer</option>
      </select>
    </section>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
  <script src="js/web3.js"></script>
  <script src="js/app.js"></script>
  
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js')
        .then(() => console.log('âœ… Service Worker registered'))
        .catch(err => console.log('âŒ Service Worker registration failed:', err));
    }
  </script>
</body>
</html>
